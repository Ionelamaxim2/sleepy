<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Sleepy</title>
    <link rel="stylesheet" href="/css/style.css" />
  </head>

  <body>
    <header class="navbar">
      <a href="/" class="home-link">Home</a>
      <button id="toggle-dark">ðŸŒ™ Change theme</button>
      <a href="/checkout" class="cart-icon">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="28"
          height="28"
          fill="none"
          stroke="black"
          stroke-width="2"
          viewBox="0 0 24 24"
        >
          <path d="M6 6h15l-1.5 9h-13z" />
          <circle cx="9" cy="21" r="1" />
          <circle cx="18" cy="21" r="1" />
        </svg>
        <span id="cart-count"
          ><%= session.cart ? session.cart.reduce((acc, item) => acc +
          item.quantity, 0) : 0 %></span
        >
      </a>
    </header>

    <div class="START">
      <div class="start-overlay">
        <h1>Sleepy</h1>
        <h2>
          Soft, cozy, and effortlessly stylish â€” the perfect pajamas for sweet
          dreams and lazy mornings.
        </h2>
      </div>
    </div>

    <div class="PijamasOur">
      <h1>Our Pijamas</h1>
    </div>

    <div class="products-grid">
      <% products.forEach(product => { %>
      <a href="/item/<%= product.id %>" class="product-box">
        <img src="<%= product.images[0] %>" alt="<%= product.name %>" />
        <div class="overlay">
          <div class="product-title"><%= product.name.split(" ")[0] %></div>
          <div class="product-subtitle">
            <%= product.name.split(" ")[1] || "" %>
          </div>
        </div>
      </a>
      <% }) %>
    </div>

    <div class="lets-chat-section">
      <div class="left-title">
        <h1>Let's Chat</h1>
      </div>
      <div class="right-info">
        <div class="info">
          <div class="info-title">Phone</div>
          <div class="info-content">(123) 456-7890</div>
        </div>
        <div class="info">
          <div class="info-title">E-mail</div>
          <div class="info-content">sleepy@gmail.com</div>
        </div>
      </div>
    </div>

    <div class="footer-brand-message">
      SLEEPY is a solutions oriented brand creating the next generation of
      underwear, clothing and shapewear.
    </div>

    <footer class="footer">
      <hr />
      <div class="footer-links">
        <a href="#" id="terms-link">Terms</a>
        <a href="#" id="privacy-link">Privacy</a>
      </div>
    </footer>

    <div id="modal" class="modal">
      <div class="modal-content">
        <span id="close">&times;</span>
        <h2 id="modal-title">Title</h2>
        <p id="modal-text">Content</p>
      </div>
    </div>

    <script>
      const modal = document.getElementById("modal");
      const modalTitle = document.getElementById("modal-title");
      const modalText = document.getElementById("modal-text");
      const closeBtn = document.getElementById("close");

      document
        .getElementById("terms-link")
        .addEventListener("click", function (e) {
          e.preventDefault();
          modalTitle.textContent = "Terms and Conditions";
          modalText.textContent =
            "Last updated March 5, 2024. Welcome to the Sleepy website...";
          modal.style.display = "block";
        });

      document
        .getElementById("privacy-link")
        .addEventListener("click", function (e) {
          e.preventDefault();
          modalTitle.textContent = "Privacy Policy";
          modalText.textContent =
            "Last updated October 9, 2024. Welcome to the Sleepy website...";
          modal.style.display = "block";
        });

      closeBtn.onclick = function () {
        modal.style.display = "none";
      };

      window.onclick = function (e) {
        if (e.target == modal) {
          modal.style.display = "none";
        }
      };
    </script>

    <script src="/script.js"></script>
  </body>
</html>
